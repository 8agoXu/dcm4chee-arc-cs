Query/Retrieve Application Entity
"""""""""""""""""""""""""""""""""

The STORAGE-SCU AE can be invoked by the QUERY-RETRIEVE-SCP AE to trigger the transfer of specific images to a remote destination AE. The STORAGE-SCU AE must be correctly configured with the host and port number of any external DICOM AEs that are to be C-MOVE retrieval destinations. The Presentation Contexts to use are determined from the headers of the DICOM files to be transferred. Some conversion of the DICOM image objects is possible if the original Presentation Context is not supported by the remote destination AE or if compression is preferred.
The QUERY-RETRIEVE-SCP AE waits for another application to connect at the presentation address configured for its Application Entity Title. When another application connects, QUERY-RETRIEVE-SCP AE expects it to be a DICOM application. QUERY-RETRIEVE-SCP AE will accept Associations with Presentation Contexts for SOP Classes of the DICOM Query-Retrieve Service Class, and Verification Service Class. It will handle query and retrieve requests on these Presentation Contexts and respond with data objects with values corresponding to the contents of the DCM4CHEE archive database. For C-MOVE requests the destination for the image objects is determined from the Destination AE Title contained in the C-MOVE request. When a retrieval request is received, the QUERY-RETRIEVE-SCP AE issues a command to the STORAGE-SCU AE to send the specified images to the C-MOVE Destination AE.
