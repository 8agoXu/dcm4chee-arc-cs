<svg xmlns="http://www.w3.org/2000/svg" width="600" height="900">

  <defs>
    <style type="text/css">
      text { font-family: Helvetica, Verdana, ArialUnicodeMS, san-serif }
    </style>
  </defs>
  <text x="360" y="10" font-size="11" text-anchor="middle">DICOM HTTP Interface</text>
  <line x1="360" y1="20" x2="360" y2="900" stroke="black" stroke-dasharray="2,4"/>

  <rect x="220" y="50" width="120" height="280" fill="none" stroke="black" />
  <text x="280" y="190" font-size="11" text-anchor="middle">STOW-RS
    <tspan x="280" dy="12" text-anchor="middle">Provider</tspan>
  </text>

  <line x1="150" y1="80" x2="220" y2="80" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <line x1="150" y1="80" x2="220" y2="190" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <line x1="150" y1="80" x2="220" y2="300" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="80" r="50" fill="white" stroke="black"/>
  <text x="100" y="80" font-size="11" text-anchor="middle">Store
    <tspan x="100" dy="12" text-anchor="middle">Instances</tspan>
  </text>

  <line x1="150" y1="190" x2="220" y2="190" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <line x1="150" y1="190" x2="220" y2="300" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="190" r="50" fill="white" stroke="black"/>
  <text x="100" y="190" font-size="11" text-anchor="middle">Reject
    <tspan x="100" dy="12" text-anchor="middle">Instances</tspan>
  </text>

  <line x1="150" y1="300" x2="220" y2="300" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="300" r="50" fill="white" stroke="black"/>
  <text x="100" y="280" font-size="11" text-anchor="middle">Create
    <tspan x="100" dy="12" text-anchor="middle">Instances</tspan>
    <tspan x="100" dy="12" text-anchor="middle">from Metadata</tspan>
    <tspan x="100" dy="12" text-anchor="middle">and Bulk Data</tspan>
  </text>

  <circle cx="460" cy="80" r="50" fill="white" stroke="black"/>
  <text x="460" y="70" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Uploads</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Instances</tspan>
  </text>
  <line x1="340" y1="80" x2="410" y2="80" stroke="black" stroke-width="2"/>
  <path d='M 340 80 l 12 -4 l 0 8' />

  <circle cx="460" cy="190" r="50" fill="white" stroke="black"/>
  <text x="460" y="180" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Uploads</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Rejection Note</tspan>
  </text>
  <line x1="340" y1="190" x2="410" y2="190" stroke="black" stroke-width="2"/>
  <path d='M 340 190 l 12 -4 l 0 8' />

  <circle cx="460" cy="300" r="50" fill="white" stroke="black"/>
  <text x="460" y="285" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Uploads</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Metadata and</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Bulk Data</tspan>
  </text>
  <line x1="340" y1="300" x2="410" y2="300" stroke="black" stroke-width="2"/>
  <path d='M 340 300 l 12 -4 l 0 8' />

  <rect x="220" y="380" width="120" height="60" fill="none" stroke="black" />
  <text x="280" y="410" font-size="11" text-anchor="middle">QIDO-RS
    <tspan x="280" dy="12" text-anchor="middle">Provider</tspan>
  </text>

  <line x1="150" y1="410" x2="220" y2="410" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="410" r="50" fill="white" stroke="black"/>
  <text x="100" y="415" font-size="11" text-anchor="middle">Query DB</text>

  <circle cx="460" cy="410" r="50" fill="white" stroke="black"/>
  <text x="460" y="390" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Sends</tspan>
    <tspan x="460" dy="12" text-anchor="middle">QIDO-RS</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Request</tspan>
  </text>
  <line x1="340" y1="410" x2="410" y2="410" stroke="black" stroke-width="2"/>
  <path d='M 340 410 l 12 -4 l 0 8' />

  <rect x="220" y="490" width="120" height="60" fill="none" stroke="black" />
  <text x="280" y="520" font-size="11" text-anchor="middle">WADO-URI
    <tspan x="280" dy="12" text-anchor="middle">Provider</tspan>
  </text>

  <line x1="150" y1="520" x2="220" y2="520" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="520" r="50" fill="white" stroke="black"/>
  <text x="100" y="520" font-size="11" text-anchor="middle">Render
    <tspan x="100" dy="12" text-anchor="middle">Instance</tspan>
  </text>

  <rect x="220" y="600" width="120" height="280" fill="none" stroke="black" />
  <text x="280" y="740" font-size="11" text-anchor="middle">WADO-RS
    <tspan x="280" dy="12" text-anchor="middle">Provider</tspan>
  </text>

  <line x1="150" y1="630" x2="220" y2="520" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <line x1="150" y1="630" x2="220" y2="630" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <line x1="150" y1="630" x2="220" y2="740" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="630" r="50" fill="white" stroke="black"/>
  <text x="100" y="630" font-size="11" text-anchor="middle">Load
    <tspan x="100" dy="12" text-anchor="middle">Instance</tspan>
  </text>

  <line x1="150" y1="740" x2="220" y2="740" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="740" r="50" fill="white" stroke="black"/>
  <text x="100" y="740" font-size="11" text-anchor="middle">Extract
    <tspan x="100" dy="12" text-anchor="middle">Bulk Data</tspan>
  </text>

  <line x1="150" y1="850" x2="220" y2="850" stroke="black" stroke-width="2" stroke-dasharray="8"/>
  <circle cx="100" cy="850" r="50" fill="white" stroke="black"/>
  <text x="100" y="850" font-size="11" text-anchor="middle">Load
    <tspan x="100" dy="12" text-anchor="middle">Metadata</tspan>
  </text>

  <circle cx="460" cy="520" r="50" fill="white" stroke="black"/>
  <text x="460" y="510" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Sends</tspan>
    <tspan x="460" dy="12" text-anchor="middle">WADO-URI</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Request</tspan>
  </text>
  <line x1="340" y1="520" x2="410" y2="520" stroke="black" stroke-width="2"/>
  <path d='M 340 520 l 12 -4 l 0 8' />

  <circle cx="460" cy="630" r="50" fill="white" stroke="black"/>
  <text x="460" y="610" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Sends WADO-RS</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Retrieve Study/</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Series/Instance</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Request</tspan>
  </text>
  <line x1="340" y1="630" x2="410" y2="630" stroke="black" stroke-width="2"/>
  <path d='M 340 630 l 12 -4 l 0 8' />

  <circle cx="460" cy="740" r="50" fill="white" stroke="black"/>
  <text x="460" y="720" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Sends WADO-RS</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Retrieve Frames/</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Bulk Data</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Request</tspan>
  </text>
  <line x1="340" y1="740" x2="410" y2="740" stroke="black" stroke-width="2"/>
  <path d='M 340 740 l 12 -4 l 0 8' />

  <circle cx="460" cy="850" r="50" fill="white" stroke="black"/>
  <text x="460" y="840" font-size="11" text-anchor="middle">Web Client
    <tspan x="460" dy="12" text-anchor="middle">Sends WADO-RS</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Retrieve Metadata</tspan>
    <tspan x="460" dy="12" text-anchor="middle">Request</tspan>
  </text>
  <line x1="340" y1="850" x2="410" y2="850" stroke="black" stroke-width="2"/>
  <path d='M 340 850 l 12 -4 l 0 8' />

</svg>